<!DOCTYPE html>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Fallback to default mdbook template -->
        
        <meta name="robots" content="noindex,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
        <title>Rust API Docs - LuaNext Documentation</title>
        <script>
            var theme = localStorage.getItem("mdbook-theme");
            if (theme === null || theme === undefined) { theme = "light"; }
            var html = document.querySelector("html");
            html.classList.remove("light");
            html.classList.add(theme);
        </script>
        <meta name="description" content="A typed superset of Lua with gradual typing, inspired by TypeScript">
        <link rel="icon" href="favicon.svg">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/custom.css">
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">

    </head>
    <body>
        <!-- Provide the book title to JavaScript -->
        <script>
            window.book = window.book || {};
            window.book.language = "en";
        </script>

        <div id="book" class="book">
            <div class="book-inner">

            <nav role="navigation" aria-label="Table of contents" class="sidebar">
                <ol class="chapter"><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="introduction.html">Introduction</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Language</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/basics.html"><strong aria-hidden="true">1.</strong> Basics</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/control-flow.html"><strong aria-hidden="true">2.</strong> Control Flow</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/functions.html"><strong aria-hidden="true">3.</strong> Functions</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/type-system.html"><strong aria-hidden="true">4.</strong> Type System</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/classes.html"><strong aria-hidden="true">5.</strong> Classes</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/interfaces.html"><strong aria-hidden="true">6.</strong> Interfaces</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/enums.html"><strong aria-hidden="true">7.</strong> Enums</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/modules.html"><strong aria-hidden="true">8.</strong> Modules</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/error-handling.html"><strong aria-hidden="true">9.</strong> Error Handling</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/pattern-matching.html"><strong aria-hidden="true">10.</strong> Pattern Matching</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/decorators.html"><strong aria-hidden="true">11.</strong> Decorators</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/advanced-types.html"><strong aria-hidden="true">12.</strong> Advanced Types</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/operators.html"><strong aria-hidden="true">13.</strong> Operators</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Guides</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="guides/migrating-from-lua.html"><strong aria-hidden="true">14.</strong> Migrating from Lua</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="guides/lua-targets.html"><strong aria-hidden="true">15.</strong> Lua Targets</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Reference</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/cli.html"><strong aria-hidden="true">16.</strong> CLI</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/configuration.html"><strong aria-hidden="true">17.</strong> Configuration</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/standard-library.html"><strong aria-hidden="true">18.</strong> Standard Library</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/utility-types.html"><strong aria-hidden="true">19.</strong> Utility Types</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/reflection.html"><strong aria-hidden="true">20.</strong> Reflection API</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/error-codes.html"><strong aria-hidden="true">21.</strong> Error Codes</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/grammar.html"><strong aria-hidden="true">22.</strong> Grammar</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/keywords.html"><strong aria-hidden="true">23.</strong> Keywords</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Contributing</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="contributing/setup.html"><strong aria-hidden="true">24.</strong> Getting Started</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">API Reference</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="api/index.html"><strong aria-hidden="true">25.</strong> Rust API Docs</a></span></li></ol>
            </nav>

            <div id="page-wrapper" class="page-wrapper">

                <div class="page-inner">

                <section class="normal" id="main">
                    <h1 id="rust-api-documentation"><a class="header" href="#rust-api-documentation">Rust API Documentation</a></h1>
<p>LuaNext provides comprehensive API documentation for Rust developers integrating the compiler into their projects.</p>
<h2 id="available-crates"><a class="header" href="#available-crates">Available Crates</a></h2>
<h3 id="core-compiler"><a class="header" href="#core-compiler">Core Compiler</a></h3>
<h4 id="luanext-core"><a class="header" href="#luanext-core"><a href="./luanext_core/">luanext-core</a></a></h4>
<p>The main compiler implementation including:</p>
<ul>
<li><strong>Lexer</strong> — Tokenization and scanning</li>
<li><strong>Parser</strong> — Syntax parsing and AST generation</li>
<li><strong>Type Checker</strong> — Type inference and validation</li>
<li><strong>Code Generator</strong> — Lua code generation</li>
</ul>
<p>Use this crate when building tools that need full compilation capabilities.</p>
<pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use luanext_core::{Lexer, Parser, TypeChecker, CodeGenerator};

let source = "local x: number = 42";
let tokens = Lexer::new(source).tokenize()?;
let ast = Parser::new(tokens).parse()?;
let checked = TypeChecker::new().check(&amp;ast)?;
let lua_code = CodeGenerator::new().generate(&amp;checked)?;
<span class="boring">}</span></code></pre>
<h4 id="luanext-parser"><a class="header" href="#luanext-parser"><a href="./luanext_parser/">luanext-parser</a></a></h4>
<p>Standalone parser for parsing LuaNext syntax without type checking.</p>
<p>Use this for:</p>
<ul>
<li>Syntax validation without compilation</li>
<li>Building IDE features</li>
<li>Creating custom analyses</li>
</ul>
<pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use luanext_parser::{Lexer, Parser};

let source = "function greet(name: string): string
    return 'Hello, ' .. name
end";
let ast = Parser::parse(source)?;
<span class="boring">}</span></code></pre>
<h4 id="luanext-typechecker"><a class="header" href="#luanext-typechecker"><a href="./luanext_typechecker/">luanext-typechecker</a></a></h4>
<p>Standalone type checker for analyzing LuaNext types independently.</p>
<p>Use this for:</p>
<ul>
<li>Type analysis tools</li>
<li>LSP type information</li>
<li>Static analysis</li>
</ul>
<h3 id="command-line-interface"><a class="header" href="#command-line-interface">Command-Line Interface</a></h3>
<h4 id="luanext-cli"><a class="header" href="#luanext-cli"><a href="./luanext_cli/">luanext-cli</a></a></h4>
<p>The <code>luanext</code> command-line compiler tool.</p>
<p>For end users, prefer using the CLI directly. For library integration, use <code>luanext-core</code>.</p>
<h3 id="language-server-protocol"><a class="header" href="#language-server-protocol">Language Server Protocol</a></h3>
<h4 id="luanext-lsp"><a class="header" href="#luanext-lsp"><a href="./luanext_lsp/">luanext-lsp</a></a></h4>
<p>Complete LSP implementation providing:</p>
<ul>
<li>Code completion</li>
<li>Type information on hover</li>
<li>Diagnostics and error reporting</li>
<li>Go to definition</li>
<li>References finding</li>
<li>Symbol renaming</li>
</ul>
<p>Use this to integrate LuaNext support into any editor via LSP.</p>
<h3 id="utilities"><a class="header" href="#utilities">Utilities</a></h3>
<h4 id="luanext-sourcemap"><a class="header" href="#luanext-sourcemap"><a href="./luanext_sourcemap/">luanext-sourcemap</a></a></h4>
<p>Source map generation and management for debugging compiled Lua code.</p>
<p>Use this to map stack traces back to original LuaNext source lines.</p>
<h4 id="luanext-test-helpers"><a class="header" href="#luanext-test-helpers"><a href="./luanext_test_helpers/">luanext-test-helpers</a></a></h4>
<p>Testing utilities for LuaNext development.</p>
<p>This crate is primarily for internal use in LuaNext development.</p>
<h2 id="integration-examples"><a class="header" href="#integration-examples">Integration Examples</a></h2>
<h3 id="using-the-compiler-as-a-library"><a class="header" href="#using-the-compiler-as-a-library">Using the Compiler as a Library</a></h3>
<pre class="playground"><code class="language-rust">use luanext_core::{Lexer, Parser, TypeChecker, CodeGenerator, Config};

fn compile_luanext(source: &amp;str) -&gt; Result&lt;String, Box&lt;dyn std::error::Error&gt;&gt; {
    // Tokenize
    let tokens = Lexer::new(source).tokenize()?;

    // Parse
    let ast = Parser::new(tokens).parse()?;

    // Type check
    let checked = TypeChecker::new().check(&amp;ast)?;

    // Generate Lua code
    let lua_code = CodeGenerator::new().generate(&amp;checked)?;

    Ok(lua_code)
}

fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    let luanext_code = r#"
        interface User {
            name: string,
            age: number
        }

        function createUser(name: string, age: number): User
            return { name = name, age = age }
        end
    "#;

    let lua_code = compile_luanext(luanext_code)?;
    println!("{}", lua_code);
    Ok(())
}</code></pre>
<h3 id="parsing-without-type-checking"><a class="header" href="#parsing-without-type-checking">Parsing Without Type Checking</a></h3>
<pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use luanext_parser::{Lexer, Parser};

fn check_syntax(source: &amp;str) -&gt; bool {
    match Lexer::new(source).tokenize() {
        Ok(tokens) =&gt; Parser::new(tokens).parse().is_ok(),
        Err(_) =&gt; false,
    }
}
<span class="boring">}</span></code></pre>
<h3 id="using-the-lsp-server"><a class="header" href="#using-the-lsp-server">Using the LSP Server</a></h3>
<p>For editor integration, use the LSP server directly:</p>
<pre><code class="language-bash">luanext-lsp --stdio
</code></pre>
<p>The LSP server communicates via stdin/stdout and is compatible with any editor that supports the Language Server Protocol.</p>
<h2 id="documentation"><a class="header" href="#documentation">Documentation</a></h2>
<p>Each crate has detailed documentation accessible via:</p>
<pre><code class="language-bash">cargo doc --open
</code></pre>
<p>This opens the full API documentation in your browser.</p>
<h2 id="feature-flags"><a class="header" href="#feature-flags">Feature Flags</a></h2>
<p>Some crates support optional features:</p>
<pre><code class="language-toml">[dependencies]
luanext-core = { version = "0.1", features = ["sourcemaps", "optimizations"] }
</code></pre>
<p>Check individual crate documentation for available features.</p>
<h2 id="versioning"><a class="header" href="#versioning">Versioning</a></h2>
<p>LuaNext follows semantic versioning (MAJOR.MINOR.PATCH):</p>
<ul>
<li><strong>MAJOR</strong> — Breaking API changes</li>
<li><strong>MINOR</strong> — New features (backward compatible)</li>
<li><strong>PATCH</strong> — Bug fixes</li>
</ul>
<p>Check crate-specific documentation for deprecation notices.</p>
<h2 id="getting-help"><a class="header" href="#getting-help">Getting Help</a></h2>
<ul>
<li><strong>API Questions?</strong> Check crate documentation via <code>cargo doc</code></li>
<li><strong>Issues?</strong> Report on <a href="https://github.com/forge18/luanext/issues">GitHub</a></li>
<li><strong>Contributing?</strong> See <a href="../../CONTRIBUTING.html">CONTRIBUTING.md</a></li>
</ul>

                </section>

                </div><!-- page-inner -->

            </div><!-- page-wrapper -->

            </div><!-- book-inner -->

            <!-- Version Selector -->
            <nav class="nav-wide-wrapper" aria-label="More">
                <a href="javascript:void(0)" id="menu-bar-wide" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </a>
            </nav>

            <!-- Version selector dropdown -->
            <div id="version-selector" class="version-selector">
                <select id="version-picker" onchange="switchVersion(this.value)" aria-label="Documentation version">
                    <option value="latest">Latest</option>
                </select>
            </div>

        </div><!-- book -->

        <!-- Custom scripts -->
        <script>
            // Version selector functionality
            function switchVersion(version) {
                const base = window.location.origin + '/luanext/';
                if (version === 'latest') {
                    window.location.href = base;
                } else {
                    window.location.href = base + version + '/';
                }
            }

            // Load versions.json and populate selector if it exists
            fetch('/luanext/versions.json')
                .then(response => response.json())
                .then(data => {
                    if (data.versions && data.versions.length > 1) {
                        const selector = document.getElementById('version-picker');
                        data.versions.forEach(v => {
                            if (v.version !== 'latest') {
                                const option = document.createElement('option');
                                option.value = 'v' + v.version;
                                option.textContent = 'v' + v.version;
                                selector.appendChild(option);
                            }
                        });
                    }
                })
                .catch(() => {
                    // versions.json not found (expected during initial setup)
                    // Selector will only show "Latest"
                });
        </script>

        <!-- mdBook scripts and content scripts -->
        <script src="js/clipboard.min.js" type="text/javascript"></script>
        <script src="js/highlight.js" type="text/javascript"></script>
        <script src="js/book.js" type="text/javascript"></script>

        <!-- Custom theme script -->
        <script src="js/custom-theme.js" type="text/javascript"></script>

        <script src="js/elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/lunr-en.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/search.js" type="text/javascript" charset="utf-8"></script>

    </body>
</html>
