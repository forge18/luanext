<!DOCTYPE html>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Fallback to default mdbook template -->
        
        <meta name="robots" content="noindex,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
        <title>Enums - LuaNext Documentation</title>
        <script>
            var theme = localStorage.getItem("mdbook-theme");
            if (theme === null || theme === undefined) { theme = "light"; }
            var html = document.querySelector("html");
            html.classList.remove("light");
            html.classList.add(theme);
        </script>
        <meta name="description" content="A typed superset of Lua with gradual typing, inspired by TypeScript">
        <link rel="icon" href="favicon.svg">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/custom.css">
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">

    </head>
    <body>
        <!-- Provide the book title to JavaScript -->
        <script>
            window.book = window.book || {};
            window.book.language = "en";
        </script>

        <div id="book" class="book">
            <div class="book-inner">

            <nav role="navigation" aria-label="Table of contents" class="sidebar">
                <ol class="chapter"><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="introduction.html">Introduction</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Language</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/basics.html"><strong aria-hidden="true">1.</strong> Basics</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/control-flow.html"><strong aria-hidden="true">2.</strong> Control Flow</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/functions.html"><strong aria-hidden="true">3.</strong> Functions</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/type-system.html"><strong aria-hidden="true">4.</strong> Type System</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/classes.html"><strong aria-hidden="true">5.</strong> Classes</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/interfaces.html"><strong aria-hidden="true">6.</strong> Interfaces</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/enums.html"><strong aria-hidden="true">7.</strong> Enums</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/modules.html"><strong aria-hidden="true">8.</strong> Modules</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/error-handling.html"><strong aria-hidden="true">9.</strong> Error Handling</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/pattern-matching.html"><strong aria-hidden="true">10.</strong> Pattern Matching</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/decorators.html"><strong aria-hidden="true">11.</strong> Decorators</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/advanced-types.html"><strong aria-hidden="true">12.</strong> Advanced Types</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/operators.html"><strong aria-hidden="true">13.</strong> Operators</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Guides</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="guides/migrating-from-lua.html"><strong aria-hidden="true">14.</strong> Migrating from Lua</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="guides/lua-targets.html"><strong aria-hidden="true">15.</strong> Lua Targets</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Reference</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/cli.html"><strong aria-hidden="true">16.</strong> CLI</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/configuration.html"><strong aria-hidden="true">17.</strong> Configuration</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/standard-library.html"><strong aria-hidden="true">18.</strong> Standard Library</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/utility-types.html"><strong aria-hidden="true">19.</strong> Utility Types</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/reflection.html"><strong aria-hidden="true">20.</strong> Reflection API</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/error-codes.html"><strong aria-hidden="true">21.</strong> Error Codes</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/grammar.html"><strong aria-hidden="true">22.</strong> Grammar</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/keywords.html"><strong aria-hidden="true">23.</strong> Keywords</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Contributing</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="contributing/setup.html"><strong aria-hidden="true">24.</strong> Getting Started</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">API Reference</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="api/index.html"><strong aria-hidden="true">25.</strong> Rust API Docs</a></span></li></ol>
            </nav>

            <div id="page-wrapper" class="page-wrapper">

                <div class="page-inner">

                <section class="normal" id="main">
                    <h1 id="enums"><a class="header" href="#enums">Enums</a></h1>
<p>LuaNext provides rich enums that go beyond simple value sets. Enums can have string or number values, fields, constructors, methods, and can implement interfaces.</p>
<h2 id="syntax"><a class="header" href="#syntax">Syntax</a></h2>
<pre><code class="language-lua">enum EnumName [implements Interface1, Interface2]
    -- Simple members
    Member1,
    Member2 = value,

    -- Fields (shared across all members)
    fieldName: Type,

    -- Constructor
    constructor(parameters)
        -- initialization logic for fields
    end

    -- Methods
    function methodName(parameters): ReturnType
        -- body
    end
end
</code></pre>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<h3 id="basic-enum"><a class="header" href="#basic-enum">Basic Enum</a></h3>
<p>Simple enums without explicit values:</p>
<pre><code class="language-lua">enum Status
    Pending,
    Active,
    Inactive
end

const currentStatus: Status = Status.Active

if currentStatus == Status.Active then
    print("System is active")
end
</code></pre>
<p>Compiles to:</p>
<pre><code class="language-lua">local Status = {
    Pending = "Pending",
    Active = "Active",
    Inactive = "Inactive"
}

local currentStatus = Status.Active

if currentStatus == Status.Active then
    print("System is active")
end
</code></pre>
<h3 id="string-enums"><a class="header" href="#string-enums">String Enums</a></h3>
<p>Enums with explicit string values:</p>
<pre><code class="language-lua">enum Color
    Red = "red",
    Green = "green",
    Blue = "blue"
end

const primary: Color = Color.Red
print(primary)  -- "red"
</code></pre>
<p>###Number Enums</p>
<p>Enums with explicit number values:</p>
<pre><code class="language-lua">enum HttpStatus
    OK = 200,
    NotFound = 404,
    InternalError = 500
end

function handleResponse(status: HttpStatus): string
    if status == HttpStatus.OK then
        return "Success"
    elseif status == HttpStatus.NotFound then
        return "Not found"
    else
        return "Error"
    end
end
</code></pre>
<p>Auto-incrementing number enums:</p>
<pre><code class="language-lua">enum Priority
    Low = 1,
    Medium,   -- 2
    High,     -- 3
    Critical  -- 4
end
</code></pre>
<h3 id="rich-enums-with-fields"><a class="header" href="#rich-enums-with-fields">Rich Enums with Fields</a></h3>
<p>Enums can have fields shared across all members:</p>
<pre><code class="language-lua">enum Direction
    North,
    East,
    South,
    West,

    -- Fields
    angle: number,

    -- Constructor initializes fields based on enum value
    constructor()
        if self == Direction.North then
            self.angle = 0
        elseif self == Direction.East then
            self.angle = 90
        elseif self == Direction.South then
            self.angle = 180
        elseif self == Direction.West then
            self.angle = 270
        end
    end
end

const dir = Direction.East
print(dir.angle)  -- 90
</code></pre>
<h3 id="enums-with-methods"><a class="header" href="#enums-with-methods">Enums with Methods</a></h3>
<p>Enums can have methods:</p>
<pre><code class="language-lua">enum Status
    Pending,
    Active,
    Completed,

    function isActive(): boolean
        return self == Status.Active
    end

    function canTransitionTo(other: Status): boolean
        if self == Status.Pending then
            return other == Status.Active
        elseif self == Status.Active then
            return other == Status.Completed
        else
            return false
        end
    end
end

const status = Status.Pending
print(status:isActive())  -- false
print(status:canTransitionTo(Status.Active))  -- true
print(status:canTransitionTo(Status.Completed))  -- false
</code></pre>
<h3 id="rich-enums-with-fields-and-methods"><a class="header" href="#rich-enums-with-fields-and-methods">Rich Enums with Fields and Methods</a></h3>
<p>Combining fields, constructors, and methods:</p>
<pre><code class="language-lua">enum Planet
    Mercury,
    Venus,
    Earth,
    Mars,

    -- Fields
    mass: number,           -- in kg
    radius: number,         -- in meters

    -- Constructor
    constructor()
        if self == Planet.Mercury then
            self.mass = 3.303e23
            self.radius = 2.4397e6
        elseif self == Planet.Venus then
            self.mass = 4.869e24
            self.radius = 6.0518e6
        elseif self == Planet.Earth then
            self.mass = 5.976e24
            self.radius = 6.37814e6
        elseif self == Planet.Mars then
            self.mass = 6.421e23
            self.radius = 3.3972e6
        end
    end

    -- Methods
    function surfaceGravity(): number
        const G = 6.67430e-11  -- gravitational constant
        return G * self.mass / (self.radius * self.radius)
    end

    function surfaceWeight(mass: number): number
        return mass * self:surfaceGravity()
    end
end

const earth = Planet.Earth
const earthMass = 70  -- kg

print(`Mass on Earth: ${earthMass} kg`)
print(`Weight on Earth: ${earth:surfaceWeight(earthMass)} N`)

const mars = Planet.Mars
print(`Weight on Mars: ${mars:surfaceWeight(earthMass)} N`)
</code></pre>
<h3 id="enums-with-constructor-arguments"><a class="header" href="#enums-with-constructor-arguments">Enums with Constructor Arguments</a></h3>
<p>Rich enums can accept constructor arguments per member:</p>
<pre><code class="language-lua">enum LogLevel
    Debug(color = "gray"),
    Info(color = "blue"),
    Warn(color = "yellow"),
    Error(color = "red"),

    -- Fields
    color: string,
    severity: number,

    -- Constructor accepts arguments
    constructor(color: string)
        self.color = color

        -- Set severity based on enum value
        if self == LogLevel.Debug then
            self.severity = 0
        elseif self == LogLevel.Info then
            self.severity = 1
        elseif self == LogLevel.Warn then
            self.severity = 2
        elseif self == LogLevel.Error then
            self.severity = 3
        end
    end

    function format(message: string): string
        return `[${self.color}] ${message}`
    end
end

const level = LogLevel.Warn
print(level:format("Low memory"))  -- [yellow] Low memory
print(level.severity)               -- 2
</code></pre>
<h3 id="implementing-interfaces"><a class="header" href="#implementing-interfaces">Implementing Interfaces</a></h3>
<p>Enums can implement interfaces:</p>
<pre><code class="language-lua">interface Describable
    function describe(): string
end

enum Animal implements Describable
    Dog,
    Cat,
    Bird,

    -- Fields
    sound: string,

    constructor()
        if self == Animal.Dog then
            self.sound = "bark"
        elseif self == Animal.Cat then
            self.sound = "meow"
        elseif self == Animal.Bird then
            self.sound = "chirp"
        end
    end

    -- Implement interface method
    function describe(): string
        return `A ${tostring(self)} that ${self.sound}s`
    end
end

const dog: Describable = Animal.Dog
print(dog:describe())  -- A Dog that barks
</code></pre>
<h3 id="pattern-matching-with-enums"><a class="header" href="#pattern-matching-with-enums">Pattern Matching with Enums</a></h3>
<p>Enums work well with pattern matching:</p>
<pre><code class="language-lua">enum Result&lt;T, E&gt;
    Ok(value: T),
    Err(error: E),

    value: T | E,

    constructor(val: T | E)
        self.value = val
    end
end

function divide(a: number, b: number): Result&lt;number, string&gt;
    if b == 0 then
        return Result.Err("Division by zero")
    else
        return Result.Ok(a / b)
    end
end

const result = divide(10, 2)

match result
    | Result.Ok -&gt; print(`Success: ${result.value}`)
    | Result.Err -&gt; print(`Error: ${result.value}`)
end
</code></pre>
<h3 id="mixed-enum-values"><a class="header" href="#mixed-enum-values">Mixed Enum Values</a></h3>
<p>Enums can mix string and number values:</p>
<pre><code class="language-lua">enum MixedEnum
    First = "first",
    Second = 2,
    Third = "third",
    Fourth = 4
end
</code></pre>
<p>However, this is generally discouraged—prefer consistent value types.</p>
<h2 id="details"><a class="header" href="#details">Details</a></h2>
<h3 id="enum-value-types"><a class="header" href="#enum-value-types">Enum Value Types</a></h3>
<p>Enums can have three types of values:</p>
<ol>
<li><strong>Auto string</strong> — Default, member name as string</li>
<li><strong>Explicit string</strong> — Custom string values</li>
<li><strong>Explicit number</strong> — Numeric values (can auto-increment)</li>
</ol>
<h3 id="enum-member-access"><a class="header" href="#enum-member-access">Enum Member Access</a></h3>
<p>Enum members are accessed via the enum name:</p>
<pre><code class="language-lua">const status = Status.Active
const color = Color.Red
</code></pre>
<h3 id="enum-comparison"><a class="header" href="#enum-comparison">Enum Comparison</a></h3>
<p>Enums can be compared with <code>==</code> and <code>~=</code>:</p>
<pre><code class="language-lua">if currentStatus == Status.Active then
    print("Active")
end
</code></pre>
<h3 id="type-safety"><a class="header" href="#type-safety">Type Safety</a></h3>
<p>Enums provide compile-time type safety:</p>
<pre><code class="language-lua">enum Status
    Active,
    Inactive
end

const status: Status = Status.Active  -- ✅ OK

-- Error: Type mismatch
-- const wrong: Status = "Active"  -- ❌ Type error
-- const wrong2: Status = Status.Unknown  -- ❌ Type error
</code></pre>
<h3 id="enum-methods-and-self"><a class="header" href="#enum-methods-and-self">Enum Methods and <code>self</code></a></h3>
<p>In enum methods, <code>self</code> refers to the enum value:</p>
<pre><code class="language-lua">enum Status
    Active,
    Inactive,

    function isActive(): boolean
        return self == Status.Active  -- self is the enum value
    end
end
</code></pre>
<h3 id="fields-vs-methods"><a class="header" href="#fields-vs-methods">Fields vs Methods</a></h3>
<ul>
<li><strong>Fields</strong> — Data associated with each enum value (initialized in constructor)</li>
<li><strong>Methods</strong> — Behavior shared across all enum values (can access fields via <code>self</code>)</li>
</ul>
<h3 id="constructor-behavior"><a class="header" href="#constructor-behavior">Constructor Behavior</a></h3>
<p>The constructor is called once per enum value when the enum is defined:</p>
<pre><code class="language-lua">enum Counter
    A,
    B,
    C,

    count: number,

    constructor()
        print(`Creating ${tostring(self)}`)
        self.count = 1
    end
end

-- Prints:
-- Creating A
-- Creating B
-- Creating C
</code></pre>
<h3 id="enum-reflection"><a class="header" href="#enum-reflection">Enum Reflection</a></h3>
<p>Get enum member name as string:</p>
<pre><code class="language-lua">const status = Status.Active
const name = tostring(status)  -- "Active"
</code></pre>
<p>Get all enum values:</p>
<pre><code class="language-lua">enum Color
    Red,
    Green,
    Blue
end

-- Iterate over enum values (implementation-specific)
for name, value in pairs(Color) do
    print(name, value)
end
</code></pre>
<h3 id="exhaustiveness-checking"><a class="header" href="#exhaustiveness-checking">Exhaustiveness Checking</a></h3>
<p>Use pattern matching or if-else chains with <code>never</code> for exhaustiveness:</p>
<pre><code class="language-lua">enum Status
    Pending,
    Active,
    Completed
end

function handleStatus(status: Status): void
    if status == Status.Pending then
        print("Pending")
    elseif status == Status.Active then
        print("Active")
    elseif status == Status.Completed then
        print("Completed")
    else
        -- This branch is unreachable if all cases are handled
        const _exhaustive: never = status
    end
end
</code></pre>
<h2 id="see-also"><a class="header" href="#see-also">See Also</a></h2>
<ul>
<li><a href="classes.html">Classes</a> — Object-oriented programming</li>
<li><a href="interfaces.html">Interfaces</a> — Implementing interfaces with enums</li>
<li><a href="pattern-matching.html">Pattern Matching</a> — Matching enum values</li>
<li><a href="type-system.html">Type System</a> — Union types and type narrowing</li>
</ul>

                </section>

                </div><!-- page-inner -->

            </div><!-- page-wrapper -->

            </div><!-- book-inner -->

            <!-- Version Selector -->
            <nav class="nav-wide-wrapper" aria-label="More">
                <a href="javascript:void(0)" id="menu-bar-wide" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </a>
            </nav>

            <!-- Version selector dropdown -->
            <div id="version-selector" class="version-selector">
                <select id="version-picker" onchange="switchVersion(this.value)" aria-label="Documentation version">
                    <option value="latest">Latest</option>
                </select>
            </div>

        </div><!-- book -->

        <!-- Custom scripts -->
        <script>
            // Version selector functionality
            function switchVersion(version) {
                const base = window.location.origin + '/luanext/';
                if (version === 'latest') {
                    window.location.href = base;
                } else {
                    window.location.href = base + version + '/';
                }
            }

            // Load versions.json and populate selector if it exists
            fetch('/luanext/versions.json')
                .then(response => response.json())
                .then(data => {
                    if (data.versions && data.versions.length > 1) {
                        const selector = document.getElementById('version-picker');
                        data.versions.forEach(v => {
                            if (v.version !== 'latest') {
                                const option = document.createElement('option');
                                option.value = 'v' + v.version;
                                option.textContent = 'v' + v.version;
                                selector.appendChild(option);
                            }
                        });
                    }
                })
                .catch(() => {
                    // versions.json not found (expected during initial setup)
                    // Selector will only show "Latest"
                });
        </script>

        <!-- mdBook scripts and content scripts -->
        <script src="js/clipboard.min.js" type="text/javascript"></script>
        <script src="js/highlight.js" type="text/javascript"></script>
        <script src="js/book.js" type="text/javascript"></script>

        <!-- Custom theme script -->
        <script src="js/custom-theme.js" type="text/javascript"></script>

        <script src="js/elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/lunr-en.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/search.js" type="text/javascript" charset="utf-8"></script>

    </body>
</html>
