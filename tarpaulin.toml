# cargo-tarpaulin configuration for TypedLua
# See: https://github.com/xd009642/tarpaulin#config-file

[typedlua_coverage]
# Coverage settings
workspace = true
all-targets = true
all-features = true
test-timeout = "120s"

# Exclude patterns (files/directories to exclude from coverage)
exclude-files = [
    "fuzz/*",
    "*/fuzz/*",
    "crates/typedlua-core/fuzz/*",
    "*/tests/*",
    "*/test/*",
    "*/test_*.rs",
    "*/tests.rs",
]

# Coverage thresholds - fail if below this percentage
fail-under = 70.0

# Engine configuration - use LLVM for more accurate coverage
engine = "Llvm"

# Output formats
out = ["Xml", "Html", "Lcov"]

# Include test functions in coverage
include-tests = false

# Run types
run-types = ["Tests", "Lib"]
