<!DOCTYPE html>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Fallback to default mdbook template -->
        
        <meta name="robots" content="noindex,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
        <title>Configuration - LuaNext Documentation</title>
        <script>
            var theme = localStorage.getItem("mdbook-theme");
            if (theme === null || theme === undefined) { theme = "light"; }
            var html = document.querySelector("html");
            html.classList.remove("light");
            html.classList.add(theme);
        </script>
        <meta name="description" content="A typed superset of Lua with gradual typing, inspired by TypeScript">
        <link rel="icon" href="favicon.svg">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/custom.css">
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">

    </head>
    <body>
        <!-- Provide the book title to JavaScript -->
        <script>
            window.book = window.book || {};
            window.book.language = "en";
        </script>

        <div id="book" class="book">
            <div class="book-inner">

            <nav role="navigation" aria-label="Table of contents" class="sidebar">
                <ol class="chapter"><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="introduction.html">Introduction</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Language</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/basics.html"><strong aria-hidden="true">1.</strong> Basics</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/control-flow.html"><strong aria-hidden="true">2.</strong> Control Flow</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/functions.html"><strong aria-hidden="true">3.</strong> Functions</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/type-system.html"><strong aria-hidden="true">4.</strong> Type System</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/classes.html"><strong aria-hidden="true">5.</strong> Classes</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/interfaces.html"><strong aria-hidden="true">6.</strong> Interfaces</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/enums.html"><strong aria-hidden="true">7.</strong> Enums</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/modules.html"><strong aria-hidden="true">8.</strong> Modules</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/error-handling.html"><strong aria-hidden="true">9.</strong> Error Handling</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/pattern-matching.html"><strong aria-hidden="true">10.</strong> Pattern Matching</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/decorators.html"><strong aria-hidden="true">11.</strong> Decorators</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/advanced-types.html"><strong aria-hidden="true">12.</strong> Advanced Types</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="language/operators.html"><strong aria-hidden="true">13.</strong> Operators</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Guides</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="guides/migrating-from-lua.html"><strong aria-hidden="true">14.</strong> Migrating from Lua</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="guides/lua-targets.html"><strong aria-hidden="true">15.</strong> Lua Targets</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Reference</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/cli.html"><strong aria-hidden="true">16.</strong> CLI</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/configuration.html"><strong aria-hidden="true">17.</strong> Configuration</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/standard-library.html"><strong aria-hidden="true">18.</strong> Standard Library</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/utility-types.html"><strong aria-hidden="true">19.</strong> Utility Types</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/reflection.html"><strong aria-hidden="true">20.</strong> Reflection API</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/error-codes.html"><strong aria-hidden="true">21.</strong> Error Codes</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/grammar.html"><strong aria-hidden="true">22.</strong> Grammar</a></span></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="reference/keywords.html"><strong aria-hidden="true">23.</strong> Keywords</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">Contributing</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="contributing/setup.html"><strong aria-hidden="true">24.</strong> Getting Started</a></span></li><li class="chapter-item expanded "><li class="spacer"></li></li><li class="chapter-item expanded "><li class="part-title">API Reference</li></li><li class="chapter-item expanded "><span class="chapter-link-wrapper"><a href="api/index.html"><strong aria-hidden="true">25.</strong> Rust API Docs</a></span></li></ol>
            </nav>

            <div id="page-wrapper" class="page-wrapper">

                <div class="page-inner">

                <section class="normal" id="main">
                    <h1 id="configuration-reference"><a class="header" href="#configuration-reference">Configuration Reference</a></h1>
<p>Complete reference for <code>luanext.config.yaml</code> configuration file.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The <code>luanext.config.yaml</code> file configures the LuaNext compiler for your project. Place it in your project root to customize compiler behavior, type checking, output format, and more.</p>
<h2 id="configuration-file-structure"><a class="header" href="#configuration-file-structure">Configuration File Structure</a></h2>
<pre><code class="language-yaml">compilerOptions:
  # Type checking options
  strictNullChecks: true
  strictNaming: "error"
  noImplicitUnknown: false
  noExplicitUnknown: false

  # Code generation options
  target: "5.4"
  enableDecorators: true
  allowNonTypedLua: true

  # Output options
  outDir: "dist"
  outFile: null
  sourceMap: false
  noEmit: false

  # Module system
  moduleMode: "require"
  modulePaths:
    - "./?.luax"
    - "./lua_modules/?.luax"
  enforceNamespacePath: false

  # Formatting
  outputFormat: "readable"
  pretty: true
  copyLuaToOutput: false

include:
  - "src/**/*.luax"
  - "lib/**/*.luax"

exclude:
  - "**/node_modules/**"
  - "**/dist/**"
  - "**/*.test.luax"
</code></pre>
<h2 id="compiler-options"><a class="header" href="#compiler-options">Compiler Options</a></h2>
<h3 id="compileroptionsstrictnullchecks"><a class="header" href="#compileroptionsstrictnullchecks"><code>compilerOptions.strictNullChecks</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>true</code></p>
<p>Enable strict null checking. When enabled, values cannot be <code>nil</code> unless explicitly allowed with union types.</p>
<pre><code class="language-yaml">compilerOptions:
  strictNullChecks: true
</code></pre>
<p><strong>With strict null checks:</strong></p>
<pre><code class="language-lua">function greet(name: string): void
    print("Hello, " .. name)
end

greet(nil)  -- ❌ Error: Cannot pass nil to string parameter
</code></pre>
<p><strong>Without strict null checks:</strong></p>
<pre><code class="language-lua">function greet(name: string): void
    print("Hello, " .. (name or "Guest"))
end

greet(nil)  -- ✅ OK (nil treated as valid string)
</code></pre>
<p><strong>Recommendation:</strong> Keep enabled for type safety. Use <code>string | nil</code> when nil is intentional.</p>
<h3 id="compileroptionsstrictnaming"><a class="header" href="#compileroptionsstrictnaming"><code>compilerOptions.strictNaming</code></a></h3>
<p><strong>Type:</strong> <code>"off" | "warning" | "error"</code>
<strong>Default:</strong> <code>"error"</code></p>
<p>Enforce naming conventions for identifiers.</p>
<pre><code class="language-yaml">compilerOptions:
  strictNaming: "error"  # Violations are errors
  # OR
  strictNaming: "warning"  # Violations are warnings
  # OR
  strictNaming: "off"  # No enforcement
</code></pre>
<p><strong>Naming conventions checked:</strong></p>
<ul>
<li><strong>Constants</strong> — <code>UPPER_SNAKE_CASE</code> (<code>MAX_SIZE</code>, <code>DEFAULT_TIMEOUT</code>)</li>
<li><strong>Variables</strong> — <code>camelCase</code> or <code>snake_case</code> (<code>userName</code>, <code>user_name</code>)</li>
<li><strong>Types/Interfaces</strong> — <code>PascalCase</code> (<code>UserProfile</code>, <code>HttpRequest</code>)</li>
<li><strong>Functions</strong> — <code>camelCase</code> or <code>snake_case</code> (<code>getUserName</code>, <code>get_user_name</code>)</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-lua">const MAX_SIZE: number = 100  -- ✅ OK (UPPER_SNAKE_CASE)
const maxSize: number = 100   -- ❌ Error with strictNaming: "error"

interface UserData  -- ✅ OK (PascalCase)
interface user_data  -- ❌ Error with strictNaming: "error"
</code></pre>
<h3 id="compileroptionsnoimplicitunknown"><a class="header" href="#compileroptionsnoimplicitunknown"><code>compilerOptions.noImplicitUnknown</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>false</code></p>
<p>Disallow implicit <code>unknown</code> types. Requires explicit type annotations.</p>
<pre><code class="language-yaml">compilerOptions:
  noImplicitUnknown: true
</code></pre>
<p><strong>With <code>noImplicitUnknown: true</code>:</strong></p>
<pre><code class="language-lua">function process(data)  -- ❌ Error: Parameter 'data' has implicit unknown type
    print(data)
end

-- Must annotate explicitly
function process(data: unknown): void  -- ✅ OK
    print(data)
end
</code></pre>
<p><strong>Recommendation:</strong> Enable for libraries and shared code. Disable for rapid prototyping.</p>
<h3 id="compileroptionsnoexplicitunknown"><a class="header" href="#compileroptionsnoexplicitunknown"><code>compilerOptions.noExplicitUnknown</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>false</code></p>
<p>Disallow explicit <code>unknown</code> types. Forces all types to be known.</p>
<pre><code class="language-yaml">compilerOptions:
  noExplicitUnknown: true
</code></pre>
<p><strong>With <code>noExplicitUnknown: true</code>:</strong></p>
<pre><code class="language-lua">const data: unknown = getData()  -- ❌ Error: unknown type not allowed

-- Must use specific type
const data: string | number | table = getData()  -- ✅ OK
</code></pre>
<p><strong>Recommendation:</strong> Rarely needed. Use only in highly type-strict codebases.</p>
<h3 id="compileroptionstarget"><a class="header" href="#compileroptionstarget"><code>compilerOptions.target</code></a></h3>
<p><strong>Type:</strong> <code>"5.1" | "5.2" | "5.3" | "5.4"</code>
<strong>Default:</strong> <code>"5.4"</code></p>
<p>Target Lua version for code generation.</p>
<pre><code class="language-yaml">compilerOptions:
  target: "5.4"  # Latest features
  # OR
  target: "5.1"  # LuaJIT compatible
</code></pre>
<p><strong>Affects:</strong></p>
<ul>
<li><strong>Integers</strong> — Native in 5.3+, type-checked only in 5.1/5.2</li>
<li><strong>Bitwise operators</strong> — Native in 5.3+, library calls in 5.1/5.2</li>
<li><strong>Integer division (<code>//</code>)</strong> — Native in 5.3+, <code>math.floor(a/b)</code> in 5.1/5.2</li>
<li><strong>Standard library</strong> — Different functions available in different versions</li>
</ul>
<p>See <a href="../guides/lua-targets.html">Lua Targets Guide</a> for complete compatibility matrix.</p>
<h3 id="compileroptionsenabledecorators"><a class="header" href="#compileroptionsenabledecorators"><code>compilerOptions.enableDecorators</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>true</code></p>
<p>Enable decorator syntax (<code>@decorator</code>).</p>
<pre><code class="language-yaml">compilerOptions:
  enableDecorators: true
</code></pre>
<p><strong>With decorators enabled:</strong></p>
<pre><code class="language-lua">@readonly
class Config
    version: string
end
</code></pre>
<p><strong>Without decorators:</strong></p>
<pre><code class="language-lua">-- Decorator syntax not available
class Config
    readonly version: string  -- Use property modifier instead
end
</code></pre>
<h3 id="compileroptionsallownontypedlua"><a class="header" href="#compileroptionsallownontypedlua"><code>compilerOptions.allowNonTypedLua</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>true</code></p>
<p>Allow importing plain <code>.lua</code> files without type information.</p>
<pre><code class="language-yaml">compilerOptions:
  allowNonTypedLua: true
</code></pre>
<p><strong>With <code>allowNonTypedLua: true</code>:</strong></p>
<pre><code class="language-lua">import * as legacy from "./legacy-code.lua"  -- ✅ OK (types treated as unknown)
</code></pre>
<p><strong>With <code>allowNonTypedLua: false</code>:</strong></p>
<pre><code class="language-lua">import * as legacy from "./legacy-code.lua"  -- ❌ Error: Cannot import untyped Lua
</code></pre>
<p><strong>Recommendation:</strong> Keep enabled when gradually migrating from Lua. Disable for fully-typed codebases.</p>
<h3 id="compileroptionsoutdir"><a class="header" href="#compileroptionsoutdir"><code>compilerOptions.outDir</code></a></h3>
<p><strong>Type:</strong> <code>string | null</code>
<strong>Default:</strong> <code>null</code> (output to same directory as input)</p>
<p>Output directory for compiled Lua files.</p>
<pre><code class="language-yaml">compilerOptions:
  outDir: "dist"
</code></pre>
<p><strong>Directory structure:</strong></p>
<pre><code>project/
├── src/
│   ├── main.luax
│   └── utils/
│       └── helpers.luax
└── dist/                    # Output directory
    ├── main.lua
    └── utils/
        └── helpers.lua
</code></pre>
<p><strong>Preserves source structure:</strong> Directory hierarchy from source is maintained in output.</p>
<h3 id="compileroptionsoutfile"><a class="header" href="#compileroptionsoutfile"><code>compilerOptions.outFile</code></a></h3>
<p><strong>Type:</strong> <code>string | null</code>
<strong>Default:</strong> <code>null</code> (separate files)</p>
<p>Bundle all output into a single file.</p>
<pre><code class="language-yaml">compilerOptions:
  outFile: "bundle.lua"
</code></pre>
<p><strong>Single file output:</strong></p>
<pre><code>project/
├── src/
│   ├── main.luax
│   └── utils.luax
└── bundle.lua  # All modules in one file
</code></pre>
<p><strong>Note:</strong> Uses bundling strategy to combine all modules. Mutually exclusive with separate file output.</p>
<h3 id="compileroptionssourcemap"><a class="header" href="#compileroptionssourcemap"><code>compilerOptions.sourceMap</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>false</code></p>
<p>Generate source maps (<code>.lua.map</code> files).</p>
<pre><code class="language-yaml">compilerOptions:
  sourceMap: true
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>dist/
├── main.lua
└── main.lua.map  # Source map for debugging
</code></pre>
<p><strong>Source maps enable:</strong></p>
<ul>
<li>Debugging LuaNext code from generated Lua</li>
<li>Accurate error locations in stack traces</li>
<li>IDE integration for breakpoints</li>
</ul>
<h3 id="compileroptionsnoemit"><a class="header" href="#compileroptionsnoemit"><code>compilerOptions.noEmit</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>false</code></p>
<p>Type-check only, do not generate output files.</p>
<pre><code class="language-yaml">compilerOptions:
  noEmit: true
</code></pre>
<p><strong>Use cases:</strong></p>
<ul>
<li>CI/CD type checking</li>
<li>Editor integration (LSP)</li>
<li>Pre-commit hooks</li>
</ul>
<h3 id="compileroptionspretty"><a class="header" href="#compileroptionspretty"><code>compilerOptions.pretty</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>true</code></p>
<p>Pretty-print diagnostic messages with colors and context.</p>
<pre><code class="language-yaml">compilerOptions:
  pretty: true
</code></pre>
<p><strong>With pretty output:</strong></p>
<pre><code>error[E0001]: Type mismatch
  ┌─ main.luax:5:10
  │
5 │     const x: number = "hello"
  │              ^^^^^^   ^^^^^^^ expected number, found string
  │              │
  │              type annotation
</code></pre>
<p><strong>Without pretty output:</strong></p>
<pre><code>main.luax:5:10: error[E0001]: Type mismatch: expected number, found string
</code></pre>
<h3 id="compileroptionsmodulemode"><a class="header" href="#compileroptionsmodulemode"><code>compilerOptions.moduleMode</code></a></h3>
<p><strong>Type:</strong> <code>"require" | "bundle"</code>
<strong>Default:</strong> <code>"require"</code></p>
<p>Module code generation mode.</p>
<pre><code class="language-yaml">compilerOptions:
  moduleMode: "require"  # Separate files with require()
  # OR
  moduleMode: "bundle"   # Inline all modules
</code></pre>
<p><strong><code>require</code> mode:</strong></p>
<pre><code class="language-lua">-- Generates separate files
local utils = require("utils")
local helper = utils.helper
</code></pre>
<p><strong><code>bundle</code> mode:</strong></p>
<pre><code class="language-lua">-- Inlines modules
local utils = (function()
    -- utils module code
end)()
local helper = utils.helper
</code></pre>
<h3 id="compileroptionsmodulepaths"><a class="header" href="#compileroptionsmodulepaths"><code>compilerOptions.modulePaths</code></a></h3>
<p><strong>Type:</strong> <code>string[]</code>
<strong>Default:</strong></p>
<pre><code class="language-yaml">- "./?.luax"
- "./lua_modules/?.luax"
- "./lua_modules/?/init.luax"
</code></pre>
<p>Module search paths for resolving imports.</p>
<pre><code class="language-yaml">compilerOptions:
  modulePaths:
    - "./?.luax"
    - "./lib/?.luax"
    - "./vendor/?/init.luax"
</code></pre>
<p><strong>Path patterns:</strong></p>
<ul>
<li><code>?</code> — Replaced with module name</li>
<li>Example: Importing <code>"utils"</code> checks <code>./utils.luax</code>, <code>./lib/utils.luax</code>, <code>./vendor/utils/init.luax</code></li>
</ul>
<h3 id="compileroptionsenforcenamespacepath"><a class="header" href="#compileroptionsenforcenamespacepath"><code>compilerOptions.enforceNamespacePath</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>false</code></p>
<p>Enforce that namespace declarations match file paths.</p>
<pre><code class="language-yaml">compilerOptions:
  enforceNamespacePath: true
</code></pre>
<p><strong>With enforcement:</strong></p>
<pre><code class="language-lua">-- File: src/MyApp/Utils.luax
namespace MyApp.Utils  -- ✅ OK (matches path)

-- File: src/MyApp/Utils.luax
namespace Other.Name  -- ❌ Error: Namespace doesn't match file path
</code></pre>
<h3 id="compileroptionsoutputformat"><a class="header" href="#compileroptionsoutputformat"><code>compilerOptions.outputFormat</code></a></h3>
<p><strong>Type:</strong> <code>"readable" | "compact" | "minified"</code>
<strong>Default:</strong> <code>"readable"</code></p>
<p>Output format for generated Lua code.</p>
<pre><code class="language-yaml">compilerOptions:
  outputFormat: "readable"  # Pretty formatting (default)
  # OR
  outputFormat: "compact"   # Minimal whitespace
  # OR
  outputFormat: "minified"  # No unnecessary whitespace
</code></pre>
<p><strong>Readable:</strong></p>
<pre><code class="language-lua">local function add(a, b)
    return a + b
end
</code></pre>
<p><strong>Compact:</strong></p>
<pre><code class="language-lua">local function add(a, b)
  return a + b
end
</code></pre>
<p><strong>Minified:</strong></p>
<pre><code class="language-lua">local function add(a,b)return a+b end
</code></pre>
<h3 id="compileroptionscopyluatooutput"><a class="header" href="#compileroptionscopyluatooutput"><code>compilerOptions.copyLuaToOutput</code></a></h3>
<p><strong>Type:</strong> <code>boolean</code>
<strong>Default:</strong> <code>false</code></p>
<p>Copy plain <code>.lua</code> files to output directory during compilation.</p>
<pre><code class="language-yaml">compilerOptions:
  copyLuaToOutput: true
  outDir: "dist"
</code></pre>
<p><strong>Example:</strong></p>
<pre><code>src/
├── main.luax       # Compiled to dist/main.lua
└── legacy.lua      # Copied to dist/legacy.lua (if copyLuaToOutput: true)
</code></pre>
<p><strong>Use case:</strong> Include plain Lua files in output directory without modification.</p>
<h2 id="includeexclude-patterns"><a class="header" href="#includeexclude-patterns">Include/Exclude Patterns</a></h2>
<h3 id="include"><a class="header" href="#include"><code>include</code></a></h3>
<p><strong>Type:</strong> <code>string[]</code>
<strong>Default:</strong> <code>["**/*.luax"]</code></p>
<p>Files to include in compilation (glob patterns).</p>
<pre><code class="language-yaml">include:
  - "src/**/*.luax"
  - "lib/**/*.luax"
  - "tests/**/*.luax"
</code></pre>
<p><strong>Glob patterns:</strong></p>
<ul>
<li><code>*</code> — Match any characters except <code>/</code></li>
<li><code>**</code> — Match any characters including <code>/</code> (recursive)</li>
<li><code>?</code> — Match single character</li>
<li><code>{a,b}</code> — Match either <code>a</code> or <code>b</code></li>
</ul>
<h3 id="exclude"><a class="header" href="#exclude"><code>exclude</code></a></h3>
<p><strong>Type:</strong> <code>string[]</code>
<strong>Default:</strong></p>
<pre><code class="language-yaml">- "**/node_modules/**"
- "**/dist/**"
</code></pre>
<p>Files to exclude from compilation (glob patterns).</p>
<pre><code class="language-yaml">exclude:
  - "**/node_modules/**"
  - "**/dist/**"
  - "**/*.test.luax"
  - "**/examples/**"
</code></pre>
<p><strong>Exclude takes precedence:</strong> Files matching <code>exclude</code> are omitted even if they match <code>include</code>.</p>
<h2 id="configuration-examples"><a class="header" href="#configuration-examples">Configuration Examples</a></h2>
<h3 id="development-configuration"><a class="header" href="#development-configuration">Development Configuration</a></h3>
<p>Fast compilation, detailed errors:</p>
<pre><code class="language-yaml">compilerOptions:
  target: "5.4"
  strictNullChecks: true
  outDir: "build"
  sourceMap: true
  pretty: true
  outputFormat: "readable"
  allowNonTypedLua: true

include:
  - "src/**/*.luax"

exclude:
  - "**/node_modules/**"
  - "**/build/**"
</code></pre>
<h3 id="production-configuration"><a class="header" href="#production-configuration">Production Configuration</a></h3>
<p>Optimized output, strict checking:</p>
<pre><code class="language-yaml">compilerOptions:
  target: "5.3"
  strictNullChecks: true
  strictNaming: "error"
  noImplicitUnknown: true
  outFile: "app.lua"
  sourceMap: false
  outputFormat: "minified"
  allowNonTypedLua: false

include:
  - "src/**/*.luax"

exclude:
  - "**/node_modules/**"
  - "**/tests/**"
  - "**/*.test.luax"
</code></pre>
<h3 id="library-configuration"><a class="header" href="#library-configuration">Library Configuration</a></h3>
<p>Type-safe, portable:</p>
<pre><code class="language-yaml">compilerOptions:
  target: "5.1"  # LuaJIT compatible
  strictNullChecks: true
  strictNaming: "error"
  noImplicitUnknown: true
  outDir: "dist"
  sourceMap: true
  outputFormat: "readable"
  enableDecorators: false  # Avoid advanced features

include:
  - "src/**/*.luax"

exclude:
  - "**/node_modules/**"
  - "**/examples/**"
  - "**/tests/**"
</code></pre>
<h3 id="gradual-migration-configuration"><a class="header" href="#gradual-migration-configuration">Gradual Migration Configuration</a></h3>
<p>Permissive for Lua → LuaNext migration:</p>
<pre><code class="language-yaml">compilerOptions:
  target: "5.1"
  strictNullChecks: false  # Allow nil everywhere
  strictNaming: "off"      # No naming enforcement
  noImplicitUnknown: false
  outDir: "build"
  pretty: true
  allowNonTypedLua: true   # Allow importing .lua files
  copyLuaToOutput: true    # Copy non-typed files

include:
  - "src/**/*.luax"
  - "src/**/*.lua"  # Include legacy Lua

exclude:
  - "**/node_modules/**"
</code></pre>
<h2 id="cli-overrides"><a class="header" href="#cli-overrides">CLI Overrides</a></h2>
<p>Command-line options override configuration file values:</p>
<pre><code class="language-bash"># Config has target: "5.4", CLI overrides to 5.1
luanext --target 5.1 main.luax

# Config has outDir: "build", CLI overrides to "dist"
luanext --out-dir dist main.luax

# Config has sourceMap: false, CLI enables it
luanext --source-map main.luax
</code></pre>
<p><strong>Precedence:</strong> CLI &gt; Config File &gt; Defaults</p>
<h2 id="configuration-loading"><a class="header" href="#configuration-loading">Configuration Loading</a></h2>
<h3 id="automatic-discovery"><a class="header" href="#automatic-discovery">Automatic Discovery</a></h3>
<p>LuaNext searches for <code>luanext.config.yaml</code> in:</p>
<ol>
<li>Current directory</li>
<li>Parent directories (up to project root)</li>
<li>Stops at first match</li>
</ol>
<pre><code class="language-bash"># Automatically finds ./luanext.config.yaml
luanext src/main.luax
</code></pre>
<h3 id="explicit-path"><a class="header" href="#explicit-path">Explicit Path</a></h3>
<p>Specify config file path with <code>--project</code>:</p>
<pre><code class="language-bash">luanext --project ./configs/prod.yaml src/main.luax
</code></pre>
<h3 id="no-configuration"><a class="header" href="#no-configuration">No Configuration</a></h3>
<p>Without a config file, all defaults are used:</p>
<pre><code class="language-bash"># Uses all default options
luanext main.luax
</code></pre>
<h2 id="initializing-configuration"><a class="header" href="#initializing-configuration">Initializing Configuration</a></h2>
<h3 id="create-default-config"><a class="header" href="#create-default-config">Create Default Config</a></h3>
<pre><code class="language-bash">luanext --init
</code></pre>
<p>Creates <code>luanext.config.yaml</code> with default settings:</p>
<pre><code class="language-yaml">compilerOptions:
  strictNullChecks: true
  strictNaming: error
  noImplicitUnknown: false
  noExplicitUnknown: false
  target: '5.4'
  enableDecorators: true
  allowNonTypedLua: true
  copyLuaToOutput: false
  sourceMap: false
  noEmit: false
  pretty: true
  moduleMode: require
  modulePaths:
  - ./?.luax
  - ./lua_modules/?.luax
  - ./lua_modules/?/init.luax
  enforceNamespacePath: false
  outputFormat: readable
include:
- '**/*.luax'
exclude:
- '**/node_modules/**'
- '**/dist/**'
</code></pre>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="use-version-control"><a class="header" href="#use-version-control">Use Version Control</a></h3>
<p>Commit <code>luanext.config.yaml</code> to version control:</p>
<pre><code class="language-bash">git add luanext.config.yaml
git commit -m "Add LuaNext configuration"
</code></pre>
<h3 id="separate-devprod-configs"><a class="header" href="#separate-devprod-configs">Separate Dev/Prod Configs</a></h3>
<p>Use different configs for environments:</p>
<pre><code>project/
├── luanext.config.yaml       # Development (default)
├── luanext.prod.yaml         # Production
└── luanext.test.yaml         # Testing
</code></pre>
<pre><code class="language-bash"># Development
luanext

# Production
luanext --project luanext.prod.yaml

# Testing
luanext --project luanext.test.yaml
</code></pre>
<h3 id="document-custom-settings"><a class="header" href="#document-custom-settings">Document Custom Settings</a></h3>
<p>Add comments to explain non-standard options:</p>
<pre><code class="language-yaml">compilerOptions:
  # Using 5.1 for LuaJIT compatibility
  target: "5.1"

  # Disabled during migration from Lua
  strictNullChecks: false

  # Required by third-party library
  allowNonTypedLua: true
</code></pre>
<h3 id="validate-configuration"><a class="header" href="#validate-configuration">Validate Configuration</a></h3>
<p>Test config changes with <code>--no-emit</code>:</p>
<pre><code class="language-bash"># Check configuration without generating files
luanext --no-emit src/**/*.luax
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="configuration-file-not-found"><a class="header" href="#configuration-file-not-found">“Configuration file not found”</a></h3>
<p><strong>Problem:</strong> <code>luanext.config.yaml</code> not found in current or parent directories.</p>
<p><strong>Solution:</strong></p>
<pre><code class="language-bash"># Create default config
luanext --init

# Or specify path explicitly
luanext --project path/to/config.yaml
</code></pre>
<h3 id="invalid-configuration"><a class="header" href="#invalid-configuration">“Invalid configuration”</a></h3>
<p><strong>Problem:</strong> YAML syntax error or invalid option value.</p>
<p><strong>Solution:</strong></p>
<pre><code class="language-bash"># Check YAML syntax
yamllint luanext.config.yaml

# Validate against schema
luanext --project luanext.config.yaml --no-emit
</code></pre>
<h3 id="options-not-taking-effect"><a class="header" href="#options-not-taking-effect">Options Not Taking Effect</a></h3>
<p><strong>Problem:</strong> CLI overrides or incorrect option names.</p>
<p><strong>Solution:</strong></p>
<ul>
<li>Check CLI flags (they override config)</li>
<li>Verify option names use <code>camelCase</code> (e.g., <code>strictNullChecks</code> not <code>strict_null_checks</code>)</li>
<li>Check for typos in YAML keys</li>
</ul>
<h2 id="see-also"><a class="header" href="#see-also">See Also</a></h2>
<ul>
<li><a href="cli.html">CLI Reference</a> — Command-line options</li>
<li><a href="../guides/migrating-from-lua.html">Migrating from Lua</a> — Migration strategies</li>
<li><a href="../guides/lua-targets.html">Lua Targets</a> — Target version details</li>
</ul>

                </section>

                </div><!-- page-inner -->

            </div><!-- page-wrapper -->

            </div><!-- book-inner -->

            <!-- Version Selector -->
            <nav class="nav-wide-wrapper" aria-label="More">
                <a href="javascript:void(0)" id="menu-bar-wide" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </a>
            </nav>

            <!-- Version selector dropdown -->
            <div id="version-selector" class="version-selector">
                <select id="version-picker" onchange="switchVersion(this.value)" aria-label="Documentation version">
                    <option value="latest">Latest</option>
                </select>
            </div>

        </div><!-- book -->

        <!-- Custom scripts -->
        <script>
            // Version selector functionality
            function switchVersion(version) {
                const base = window.location.origin + '/luanext/';
                if (version === 'latest') {
                    window.location.href = base;
                } else {
                    window.location.href = base + version + '/';
                }
            }

            // Load versions.json and populate selector if it exists
            fetch('/luanext/versions.json')
                .then(response => response.json())
                .then(data => {
                    if (data.versions && data.versions.length > 1) {
                        const selector = document.getElementById('version-picker');
                        data.versions.forEach(v => {
                            if (v.version !== 'latest') {
                                const option = document.createElement('option');
                                option.value = 'v' + v.version;
                                option.textContent = 'v' + v.version;
                                selector.appendChild(option);
                            }
                        });
                    }
                })
                .catch(() => {
                    // versions.json not found (expected during initial setup)
                    // Selector will only show "Latest"
                });
        </script>

        <!-- mdBook scripts and content scripts -->
        <script src="js/clipboard.min.js" type="text/javascript"></script>
        <script src="js/highlight.js" type="text/javascript"></script>
        <script src="js/book.js" type="text/javascript"></script>

        <!-- Custom theme script -->
        <script src="js/custom-theme.js" type="text/javascript"></script>

        <script src="js/elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/lunr-en.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/search.js" type="text/javascript" charset="utf-8"></script>

    </body>
</html>
